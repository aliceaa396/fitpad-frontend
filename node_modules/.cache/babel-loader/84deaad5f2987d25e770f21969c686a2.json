{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\ala31\\\\Projects\\\\Capstone\\\\capstone-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ala31\\\\Projects\\\\Capstone\\\\capstone-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\ala31\\\\Projects\\\\Capstone\\\\capstone-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\ala31\\\\Projects\\\\Capstone\\\\capstone-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\ala31\\\\Projects\\\\Capstone\\\\capstone-frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import TokenService from'../../Services/token-service';import AuthApiService from'../../Services/auth-api-service';import{Button,Input}from'../Utils/Utils';import Context from'../../Contexts/Context';import UserIcon from\"../../Photos/userIcon.svg\";import PasswordIcon from\"../../Photos/passwordIcon.svg\";import'../../Styles/Login.css';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={error:null};_this.handleSubmitJwtAuth=function(event){event.preventDefault();_this.setState({error:null});var _event$target=event.target,user_email=_event$target.user_email,password=_event$target.password;AuthApiService.postLogin({user_email:user_email.value,password:password.value}).then(function(res){user_email.value='';password.value='';TokenService.saveAuthToken(res.authToken);_this.context.setAuth(res.authToken);_this.props.onLoginSuccess();}).catch(function(error){console.log(error);_this.setState({error:error});});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"inner-container\"},React.createElement(\"div\",{className:\"header\"},React.createElement(\"h2\",{className:\"home-titles\"},\" Login \")),React.createElement(\"div\",{className:\"box\"},React.createElement(\"form\",{className:\"loginForm\",onSubmit:this.handleSubmitJwtAuth},React.createElement(Input,{className:\"landing-form-text\",required:true,type:\"email\",id:\"user_email\",placeholder:\"Your Email\",name:\"user_email\"}),React.createElement(Input,{className:\"landing-form-text\",required:true,type:\"password\",id:\"password\",name:\"password\",placeholder:\"Password\"}),React.createElement(Button,{className:\"form-btns\",type:\"submit\"},\"  Login \"))));}}]);return Login;}(Component);Login.contextType=Context;Login.defaultProps={location:{},history:{push:function push(){}}};export{Login as default};","map":{"version":3,"sources":["C:/Users/ala31/Projects/Capstone/capstone-frontend/src/Components/LoginRegister/Login.js"],"names":["React","Component","TokenService","AuthApiService","Button","Input","Context","Login","state","error","handleSubmitJwtAuth","event","preventDefault","setState","target","user_email","password","postLogin","value","then","res","saveAuthToken","authToken","context","setAuth","props","onLoginSuccess","catch","console","log","contextType","defaultProps","location","history","push"],"mappings":"+sBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,iCAA3B,CACA,OAASC,MAAT,CAAiBC,KAAjB,KAA8B,gBAA9B,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,C,wGAGA,MAAO,wBAAP,C,GAEqBC,CAAAA,K,2XAUnBC,K,CAAO,CAAEC,KAAK,CAAE,IAAT,C,OAEPC,mB,CAAsB,SAAAC,KAAK,CAAI,CAC7BA,KAAK,CAACC,cAAN,GACA,MAAKC,QAAL,CAAc,CAAEJ,KAAK,CAAC,IAAR,CAAd,EAF6B,kBAGGE,KAAK,CAACG,MAHT,CAGrBC,UAHqB,eAGrBA,UAHqB,CAGTC,QAHS,eAGTA,QAHS,CAK7Bb,cAAc,CAACc,SAAf,CAAyB,CACvBF,UAAU,CAAEA,UAAU,CAACG,KADA,CAEvBF,QAAQ,CAAEA,QAAQ,CAACE,KAFI,CAAzB,EAICC,IAJD,CAIM,SAAAC,GAAG,CAAI,CACXL,UAAU,CAACG,KAAX,CAAiB,EAAjB,CACAF,QAAQ,CAACE,KAAT,CAAe,EAAf,CACAhB,YAAY,CAACmB,aAAb,CAA2BD,GAAG,CAACE,SAA/B,EACA,MAAKC,OAAL,CAAaC,OAAb,CAAqBJ,GAAG,CAACE,SAAzB,EACA,MAAKG,KAAL,CAAWC,cAAX,GACD,CAVD,EAWCC,KAXD,CAWO,SAAAlB,KAAK,CAAI,CACdmB,OAAO,CAACC,GAAR,CAAYpB,KAAZ,EACA,MAAKI,QAAL,CAAc,CAACJ,KAAK,CAAEA,KAAR,CAAd,EACD,CAdD,EAeD,C,wEACQ,CACP,MACI,4BAAK,SAAS,CAAC,iBAAf,EACE,2BAAK,SAAS,CAAC,QAAf,EACE,0BAAI,SAAS,CAAC,aAAd,YADF,CADF,CAKE,2BAAK,SAAS,CAAC,KAAf,EACE,4BAAM,SAAS,CAAE,WAAjB,CAA6B,QAAQ,CAAE,KAAKC,mBAA5C,EACE,oBAAC,KAAD,EAAO,SAAS,CAAC,mBAAjB,CAAqC,QAAQ,KAA7C,CAA8C,IAAI,CAAC,OAAnD,CAA2D,EAAE,CAAC,YAA9D,CAA2E,WAAW,CAAC,YAAvF,CAAoG,IAAI,CAAC,YAAzG,EADF,CAGE,oBAAC,KAAD,EAAO,SAAS,CAAC,mBAAjB,CAAqC,QAAQ,KAA7C,CAA8C,IAAI,CAAC,UAAnD,CAA8D,EAAE,CAAC,UAAjE,CAA4E,IAAI,CAAC,UAAjF,CAA4F,WAAW,CAAC,UAAxG,EAHF,CAKE,oBAAC,MAAD,EAAQ,SAAS,CAAC,WAAlB,CAA8B,IAAI,CAAC,QAAnC,aALF,CADF,CALF,CADJ,CAiBD,C,mBAnDgCT,S,EAAdM,K,CACZuB,W,CAAcxB,O,CADFC,K,CAEZwB,Y,CAAe,CACpBC,QAAQ,CAAE,EADU,CAEpBC,OAAO,CAAE,CACPC,IAAI,CAAE,eAAM,CAAE,CADP,CAFW,C,QAFH3B,K","sourcesContent":["import React, { Component } from 'react';\r\nimport TokenService from '../../Services/token-service';\r\nimport AuthApiService from '../../Services/auth-api-service';\r\nimport { Button, Input } from '../Utils/Utils'\r\nimport Context from '../../Contexts/Context'\r\nimport UserIcon from '../../Photos/userIcon.svg';\r\nimport PasswordIcon from '../../Photos/passwordIcon.svg'\r\nimport '../../Styles/Login.css';\r\n\r\nexport default class Login extends Component {\r\n  static contextType = Context\r\n  static defaultProps = {\r\n    location: {},\r\n    history: {\r\n      push: () => {},\r\n    },\r\n  }\r\n\r\n\r\n  state= { error: null }\r\n\r\n  handleSubmitJwtAuth = event => {\r\n    event.preventDefault()\r\n    this.setState({ error:null })\r\n    const { user_email, password} = event.target\r\n    \r\n    AuthApiService.postLogin({\r\n      user_email: user_email.value,\r\n      password: password.value,\r\n    })\r\n    .then(res => {\r\n      user_email.value=''\r\n      password.value=''\r\n      TokenService.saveAuthToken(res.authToken)\r\n      this.context.setAuth(res.authToken)\r\n      this.props.onLoginSuccess()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      this.setState({error: error})\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n        <div className=\"inner-container\"> \r\n          <div className=\"header\">\r\n            <h2 className=\"home-titles\"> Login </h2>\r\n          </div> \r\n          \r\n          <div className=\"box\">\r\n            <form className= \"loginForm\" onSubmit={this.handleSubmitJwtAuth}>\r\n              <Input className=\"landing-form-text\" required type=\"email\" id=\"user_email\" placeholder=\"Your Email\" name=\"user_email\"/>\r\n\r\n              <Input className=\"landing-form-text\" required type=\"password\" id=\"password\" name=\"password\" placeholder=\"Password\"/>\r\n\r\n              <Button className=\"form-btns\" type='submit'>  Login </Button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}