{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ala31\\\\Projects\\\\capstone\\\\capstone-frontend\\\\src\\\\Components\\\\LoginRegister\\\\Register.js\";\nimport React, { Component } from 'react';\nimport { Button, Input } from '../Utils/Utils';\nimport AuthApiService from '../../services/auth-api-service';\nimport '../../Styles/Register.css';\nexport default class Register extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      error: null\n    };\n    this.firstInput = React.createRef();\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const {\n        full_name,\n        user_name,\n        user_email,\n        password\n      } = event.target;\n      await this.setState({\n        error: null\n      });\n\n      if (full_name.length === 0 || user_name.length === 0) {\n        this.setState({\n          error: 'Name or username must not be empty'\n        });\n        return;\n      }\n\n      const regex = RegExp('\\\\s');\n\n      if (regex.test(user_name) || regex.test(password)) {\n        this.setState({\n          error: 'Password or username cannot contain spaces'\n        });\n        return;\n      }\n\n      if (password.length > 40 || user_name.length > 40 || full_name.length > 40) {\n        this.setState({\n          error: 'Passwords, usernames, and names must be no more than 40 characters long'\n        });\n        return;\n      }\n\n      AuthApiService.createUser({\n        full_name: full_name.value,\n        user_name: user_name.value,\n        user_email: user_email.value,\n        password: password.value\n      }).then(user => {\n        full_name.value = '';\n        user_name.value = '';\n        user_email.value = '';\n        password.value = '';\n        this.props.onRegistrationSuccess();\n      }).catch(res => {\n        this.setState({\n          error: res.error\n        });\n      });\n    };\n  }\n\n  renderError() {\n    if (this.state.error) {\n      return React.createElement(\"div\", {\n        role: \"alert\",\n        className: \"form-alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \" \", this.state.error, \" \"));\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"inner-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"home-titles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \" Register \")), React.createElement(\"div\", {\n      className: \"box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"registerForm\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, this.renderError(), React.createElement(Input, {\n      required: true,\n      type: \"text\",\n      id: \"floatField\",\n      className: \"landing-form-text\",\n      name: \"full_name\",\n      placeholder: \"Full Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(Input, {\n      required: true,\n      type: \"text\",\n      id: \"user_name\",\n      className: \"landing-form-text\",\n      name: \"user_name\",\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(Input, {\n      required: true,\n      type: \"email\",\n      id: \"user_email\",\n      className: \"landing-form-text\",\n      name: \"user_email\",\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(Input, {\n      required: true,\n      type: \"password\",\n      id: \"password\",\n      className: \"landing-form-text\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(Button, {\n      className: \"form-btns\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \" Register \"))));\n  }\n\n}\nRegister.defaultProps = {\n  onRegistrationSuccess: () => {}\n};","map":{"version":3,"sources":["C:/Users/ala31/Projects/capstone/capstone-frontend/src/Components/LoginRegister/Register.js"],"names":["React","Component","Button","Input","AuthApiService","Register","state","error","firstInput","createRef","handleSubmit","event","preventDefault","full_name","user_name","user_email","password","target","setState","length","regex","RegExp","test","createUser","value","then","user","props","onRegistrationSuccess","catch","res","renderError","render","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Button, Input } from '../Utils/Utils'\r\nimport AuthApiService from '../../services/auth-api-service'\r\nimport '../../Styles/Register.css';\r\n\r\nexport default class Register extends Component {\r\n  static defaultProps = {\r\n   onRegistrationSuccess: () => {}\r\n };\r\n\r\n  state = { \r\n    error: null, \r\n  };\r\n  firstInput = React.createRef();\r\n handleSubmit = async event => {\r\n  event.preventDefault();\r\n  const { full_name, user_name, user_email, password } = event.target;\r\n\r\n  await this.setState({\r\n    error:null\r\n  });\r\n\r\n  if(full_name.length === 0 || user_name.length === 0) {\r\n    this.setState({\r\n      error: 'Name or username must not be empty'\r\n    });\r\n    return;\r\n  }\r\n\r\n  const regex = RegExp('\\\\s');\r\n  if (regex.test(user_name) || regex.test(password)) {\r\n    this.setState({\r\n      error: 'Password or username cannot contain spaces'\r\n    });\r\n    return;\r\n  }\r\n  if (password.length > 40 || user_name.length > 40 || full_name.length > 40) {\r\n    this.setState({\r\n      error: 'Passwords, usernames, and names must be no more than 40 characters long'\r\n    });\r\n    return\r\n  }\r\n  \r\n  AuthApiService.createUser({\r\n    full_name: full_name.value,\r\n    user_name: user_name.value,\r\n    user_email: user_email.value,\r\n    password: password.value\r\n  })\r\n  .then(user => {\r\n    full_name.value='';\r\n    user_name.value='';\r\n    user_email.value='';\r\n    password.value='';\r\n    this.props.onRegistrationSuccess()\r\n  })\r\n  .catch(res => {\r\n    this.setState({\r\n      error: res.error\r\n    })\r\n  })\r\n }\r\n renderError() {\r\n   if (this.state.error) {\r\n     return (\r\n       <div role=\"alert\" className=\"form-alert\">\r\n         <p> {this.state.error} </p>\r\n       </div>\r\n     )\r\n   }\r\n }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"inner-container\">\r\n        <div className=\"header\">\r\n        <h2 className=\"home-titles\"> Register </h2>\r\n        </div>\r\n\r\n        <div className=\"box\">\r\n          <form \r\n            className=\"registerForm\" \r\n            onSubmit={this.handleSubmit}\r\n          >\r\n            {this.renderError()}\r\n\r\n            <Input \r\n              required \r\n              type=\"text\" \r\n              id=\"floatField\" \r\n              className=\"landing-form-text\" \r\n              name=\"full_name\" \r\n              placeholder=\"Full Name\"\r\n            />\r\n        \r\n            <Input \r\n              required \r\n              type=\"text\" \r\n              id=\"user_name\" \r\n              className=\"landing-form-text\" \r\n              name=\"user_name\" \r\n              placeholder=\"Username\"\r\n            />\r\n              \r\n            <Input \r\n              required \r\n              type=\"email\" \r\n              id=\"user_email\" \r\n              className=\"landing-form-text\" \r\n              name=\"user_email\" \r\n              placeholder=\"Email\" \r\n            />  \r\n            \r\n            <Input \r\n              required \r\n              type=\"password\" \r\n              id=\"password\" \r\n              className=\"landing-form-text\" \r\n              placeholder=\"Password\" \r\n            />\r\n\r\n            <Button className=\"form-btns\" type=\"submit\"> Register </Button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}