{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ala31\\\\Projects\\\\capstone\\\\capstone-frontend\\\\src\\\\Components\\\\LoginRegister\\\\Register.js\";\nimport React, { Component } from 'react';\nimport { Button, Input } from '../Utils/Utils';\nimport AuthApiService from '../../services/auth-api-service';\nimport '../../Styles/Register.css';\nexport default class Register extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      error: null\n    };\n    this.firstInput = React.createRef();\n\n    this.handleSubmit = async event => {\n      event.preventDefault();\n      const {\n        full_name,\n        user_name,\n        user_email,\n        password\n      } = event.target;\n      full_name = full_name.value.trim(), user_name = user_name.value.trim(), user_email = user_email.value.trim(), password = password.value.trim();\n      await this.setState({\n        error: null\n      });\n\n      if (full_name.length === 0 || user_name.length === 0) {\n        this.setState({\n          error: 'Name or username must not be empty'\n        });\n        return;\n      }\n\n      const regex = RegExp('\\\\s');\n\n      if (regex.test(user_name) || regex.test(password)) {\n        this.setState({\n          error: 'Password or username cannot contain spaces'\n        });\n        return;\n      }\n\n      if (password.length > 40 || user_name.length > 40 || full_name.length > 40) {\n        this.setState({\n          error: 'Passwords, usernames, and names must be no more than 40 characters long'\n        });\n        return;\n      }\n\n      AuthApiService.createUser({\n        full_name: full_name.value,\n        user_name: user_name.value,\n        user_email: user_email.value,\n        password: password.value\n      }).then(user => {\n        full_name.value = '';\n        user_name.value = '';\n        user_email.value = '';\n        password.value = '';\n        this.props.onRegistrationSuccess();\n      }).catch(res => {\n        this.setState({\n          error: res.error\n        });\n      });\n    };\n  }\n\n  renderError() {\n    if (this.state.error) {\n      return React.createElement(\"div\", {\n        role: \"alert\",\n        className: \"form-alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \" \", this.state.error, \" \"));\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"inner-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"home-titles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \" Register \")), React.createElement(\"div\", {\n      className: \"box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"registerForm\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.renderError(), React.createElement(Input, {\n      required: true,\n      type: \"text\",\n      id: \"floatField\",\n      className: \"landing-form-text\",\n      name: \"full_name\",\n      placeholder: \"Full Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(Input, {\n      required: true,\n      type: \"text\",\n      id: \"user_name\",\n      className: \"landing-form-text\",\n      name: \"user_name\",\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Input, {\n      required: true,\n      type: \"email\",\n      id: \"user_email\",\n      className: \"landing-form-text\",\n      name: \"user_email\",\n      placeholder: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(Input, {\n      required: true,\n      type: \"password\",\n      id: \"password\",\n      className: \"landing-form-text\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(Button, {\n      className: \"form-btns\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \" Register \"))));\n  }\n\n}\nRegister.defaultProps = {\n  onRegistrationSuccess: () => {}\n};","map":{"version":3,"sources":["C:/Users/ala31/Projects/capstone/capstone-frontend/src/Components/LoginRegister/Register.js"],"names":["React","Component","Button","Input","AuthApiService","Register","state","error","firstInput","createRef","handleSubmit","event","preventDefault","full_name","user_name","user_email","password","target","value","trim","setState","length","regex","RegExp","test","createUser","then","user","props","onRegistrationSuccess","catch","res","renderError","render","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Button, Input } from '../Utils/Utils'\r\nimport AuthApiService from '../../services/auth-api-service'\r\nimport '../../Styles/Register.css';\r\n\r\nexport default class Register extends Component {\r\n  static defaultProps = {\r\n   onRegistrationSuccess: () => {}\r\n };\r\n\r\n  state = { \r\n    error: null, \r\n  };\r\n  firstInput = React.createRef();\r\n\r\n handleSubmit = async event => {\r\n  event.preventDefault();\r\n  const { \r\n    full_name, \r\n    user_name, \r\n    user_email, \r\n    password \r\n  } = event.target;\r\n\r\n  full_name = full_name.value.trim(), \r\n  user_name = user_name.value.trim(), \r\n  user_email = user_email.value.trim(), \r\n  password = password.value.trim()\r\n\r\n  await this.setState({\r\n    error:null\r\n  });\r\n\r\n  if(full_name.length === 0 || user_name.length === 0) {\r\n    this.setState({\r\n      error: 'Name or username must not be empty'\r\n    });\r\n    return;\r\n  }\r\n\r\n  const regex = RegExp('\\\\s');\r\n  if (regex.test(user_name) || regex.test(password)) {\r\n    this.setState({\r\n      error: 'Password or username cannot contain spaces'\r\n    });\r\n    return;\r\n  }\r\n  if (password.length > 40 || user_name.length > 40 || full_name.length > 40) {\r\n    this.setState({\r\n      error: 'Passwords, usernames, and names must be no more than 40 characters long'\r\n    });\r\n    return;\r\n  }\r\n  \r\n  AuthApiService.createUser({\r\n    full_name: full_name.value,\r\n    user_name: user_name.value,\r\n    user_email: user_email.value,\r\n    password: password.value\r\n  })\r\n  .then(user => {\r\n    full_name.value='';\r\n    user_name.value='';\r\n    user_email.value='';\r\n    password.value='';\r\n    this.props.onRegistrationSuccess()\r\n  })\r\n  .catch(res => {\r\n    this.setState({\r\n      error: res.error\r\n    })\r\n  })\r\n }\r\n renderError() {\r\n   if (this.state.error) {\r\n     return (\r\n       <div role=\"alert\" className=\"form-alert\">\r\n         <p> {this.state.error} </p>\r\n       </div>\r\n     )\r\n   }\r\n }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"inner-container\">\r\n        <div className=\"header\">\r\n        <h2 className=\"home-titles\"> Register </h2>\r\n        </div>\r\n\r\n        <div className=\"box\">\r\n          <form \r\n            className=\"registerForm\" \r\n            onSubmit={this.handleSubmit}\r\n          >\r\n            {this.renderError()}\r\n\r\n            <Input \r\n              required \r\n              type=\"text\" \r\n              id=\"floatField\" \r\n              className=\"landing-form-text\" \r\n              name=\"full_name\" \r\n              placeholder=\"Full Name\"\r\n            />\r\n        \r\n            <Input \r\n              required \r\n              type=\"text\" \r\n              id=\"user_name\" \r\n              className=\"landing-form-text\" \r\n              name=\"user_name\" \r\n              placeholder=\"Username\"\r\n            />\r\n              \r\n            <Input \r\n              required \r\n              type=\"email\" \r\n              id=\"user_email\" \r\n              className=\"landing-form-text\" \r\n              name=\"user_email\" \r\n              placeholder=\"Email\" \r\n            />  \r\n            \r\n            <Input \r\n              required \r\n              type=\"password\" \r\n              id=\"password\" \r\n              className=\"landing-form-text\" \r\n              placeholder=\"Password\" \r\n            />\r\n\r\n            <Button className=\"form-btns\" type=\"submit\"> Register </Button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}