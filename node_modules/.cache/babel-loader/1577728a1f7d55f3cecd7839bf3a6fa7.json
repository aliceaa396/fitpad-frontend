{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ala31\\\\Projects\\\\Capstone\\\\capstone-frontend\\\\src\\\\Components\\\\LoginRegister\\\\Login.js\";\nimport React, { Component } from 'react';\nimport TokenService from '../../services/token-service';\nimport AuthApiService from '../../services/auth-api-service';\nimport { Button, Input } from '../Utils/Utils';\nimport Context from '../../Contexts/Context';\nimport '../../Styles/Login.css';\nexport default class Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      error: null\n    };\n\n    this.handleSubmitJwtAuth = event => {\n      event.preventDefault();\n      this.setState({\n        error: null\n      });\n      const {\n        user_email,\n        password\n      } = event.target;\n      AuthApiService.postLogin({\n        user_email: user_email.value,\n        password: password.value\n      }).then(res => {\n        user_email.value = '';\n        password.value = '';\n        TokenService.saveAuthToken(res.authToken);\n        this.context.setAuth(res.authToken);\n        this.props.onLoginSuccess();\n      }).catch(error => {\n        console.log(error);\n        this.setState({\n          error: error\n        });\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"inner-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"home-titles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \" Login \")), React.createElement(\"div\", {\n      className: \"box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"loginForm\",\n      onSubmit: this.handleSubmitJwtAuth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Input, {\n      className: \"landing-form-text\",\n      required: true,\n      type: \"email\",\n      id: \"user_email\",\n      placeholder: \"Your Email\",\n      name: \"user_email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(Input, {\n      className: \"landing-form-text\",\n      required: true,\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(Button, {\n      className: \"form-btns\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"  Login \"))));\n  }\n\n}\nLogin.contextType = Context;\nLogin.defaultProps = {\n  location: {},\n  history: {\n    push: () => {}\n  }\n};","map":{"version":3,"sources":["C:/Users/ala31/Projects/Capstone/capstone-frontend/src/Components/LoginRegister/Login.js"],"names":["React","Component","TokenService","AuthApiService","Button","Input","Context","Login","state","error","handleSubmitJwtAuth","event","preventDefault","setState","user_email","password","target","postLogin","value","then","res","saveAuthToken","authToken","context","setAuth","props","onLoginSuccess","catch","console","log","render","contextType","defaultProps","location","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport TokenService from '../../services/token-service';\r\nimport AuthApiService from '../../services/auth-api-service';\r\nimport { Button, Input } from '../Utils/Utils'\r\nimport Context from '../../Contexts/Context'\r\nimport '../../Styles/Login.css';\r\n\r\nexport default class Login extends Component {\r\n  static contextType = Context\r\n  static defaultProps = {\r\n    location: {},\r\n    history: {\r\n      push: () => {},\r\n    },\r\n  }\r\n\r\n\r\n  state= { error: null }\r\n\r\n  handleSubmitJwtAuth = event => {\r\n    event.preventDefault()\r\n    this.setState({ error:null })\r\n    const { user_email, password} = event.target\r\n    \r\n    AuthApiService.postLogin({\r\n      user_email: user_email.value,\r\n      password: password.value,\r\n    })\r\n    .then(res => {\r\n      user_email.value=''\r\n      password.value=''\r\n      TokenService.saveAuthToken(res.authToken)\r\n      this.context.setAuth(res.authToken)\r\n      this.props.onLoginSuccess()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      this.setState({error: error})\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n        <div className=\"inner-container\"> \r\n          <div className=\"header\">\r\n            <h2 className=\"home-titles\"> Login </h2>\r\n          </div> \r\n          \r\n          <div className=\"box\">\r\n            <form className= \"loginForm\" onSubmit={this.handleSubmitJwtAuth}>\r\n              <Input className=\"landing-form-text\" required type=\"email\" id=\"user_email\" placeholder=\"Your Email\" name=\"user_email\"/>\r\n\r\n              <Input className=\"landing-form-text\" required type=\"password\" id=\"password\" name=\"password\" placeholder=\"Password\"/>\r\n\r\n              <Button className=\"form-btns\" type='submit'>  Login </Button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}